# KvadricepsHub - Volunteer Platform

> üèÜ **–ö–æ–º–∞–Ω–¥–∞ –ö–≤–∞–¥—Ä–∏—Ü–µ–ø—Å**: MAX –∏ RUSTAM  
> üöÄ **–°—Ç–µ–∫**: Bun + Elysia + Eta + htmx + Tailwind CSS + SQLite  
> üéØ **–¶–µ–ª—å**: –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å–∫–∏—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π

MVP –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å–∫–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Å –ø–æ–∏—Å–∫–æ–º –ø–æ —Å–æ–±—ã—Ç–∏—è–º, —Å–∏—Å—Ç–µ–º–æ–π –∑–∞—è–≤–æ–∫ –∏ —Å—Ç–∞—Ç—É—Å–æ–≤, —á–µ–∫–∏–Ω–æ–º –ø–æ QR/Telegram, –ø–∞–Ω–µ–ª—å—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞, –æ—Ç—á—ë—Ç–∞–º–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞–º–∏.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–¢—Ä–µ–±—É–µ—Ç—Å—è Bun 1.2+ (—É—Å—Ç–∞–Ω–æ–≤–∫–∞: https://bun.sh). –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—Ñ–∞–π–ª `volunteer.db` –≤ –∫–æ—Ä–Ω–µ).

```bash
bun install                  # —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
bun run seed                 # –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ö–µ–º—ã –∏ –¥–µ–º–æ‚Äë–¥–∞–Ω–Ω—ã—Ö
bun run build:css            # —Å–±–æ—Ä–∫–∞ Tailwind CSS ‚Üí public/style.css
bun run lint                 # –ø—Ä–æ–≤–µ—Ä–∫–∞ Biome

# —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (watch –¥–ª—è CSS + —Å–µ—Ä–≤–µ—Ä)
bun run dev:all

# –∏–ª–∏ –æ–¥–∏–Ω–æ—á–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
bun run dev
```

–°–µ—Ä–≤–µ—Ä: http://localhost:3000

### Docker

```bash
# —Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t volunteer-platform .

# –∑–∞–ø—É—Å–∫
docker run -p 3000:3000 volunteer-platform
```

–î–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å volume:

```bash
docker run -p 3000:3000 -v $(pwd)/volunteer.db:/app/volunteer.db volunteer-platform
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
TELEGRAM_BOT_TOKEN=your_bot_token             # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
TELEGRAM_BOT_USERNAME=your_bot_username       # @username –±–µ–∑ @
QR_SECRET=random_string_for_qr                # –ø–æ–¥–ø–∏—Å—å QR –¥–ª—è —á–µ–∫–∏–Ω–∞
SESSION_SECRET=random_session_secret          # —Å–µ—Å—Å–∏–∏/–ø–æ–¥–ø–∏—Å–∏ (—É–ø—Ä–æ—â—ë–Ω–Ω–æ)
PORT=3000
```

–ï—Å–ª–∏ `TELEGRAM_BOT_TOKEN` –Ω–µ –∑–∞–¥–∞–Ω, Telegram —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –¥–µ–º–æ‚Äë—Ä–µ–∂–∏–º–µ: —Å–æ–æ–±—â–µ–Ω–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å, –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ Telegram –∏–º–∏—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Ö–æ–¥–∞ (mock hash). –≠—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

### Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

1) –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ BotFather –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏ —é–∑–µ—Ä–Ω–µ–π–º.  
2) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–º. –≤—ã—à–µ).  
3) –í –ø—Ä–æ–¥–∞–∫—à–Ω–µ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–µ–±—Ö—É–∫ –Ω–∞ —Ä–æ—É—Ç `/webhook/telegram`:

```
https://api.telegram.org/bot<–¢–û–ö–ï–ù>/setWebhook?url=https://<–¥–æ–º–µ–Ω>/webhook/telegram
```

4) –ú–∏–Ω–∏‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Telegram –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ —Å—Å—ã–ª–∫–µ —Ñ–æ—Ä–º–∞—Ç–∞ `https://t.me/<–±–æ—Ç>/app` (deep‚Äëlinks –≤ –∫–æ–¥–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `TelegramMiniApp.generateLink`).

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- `src/server.ts` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Elysia –∏ —Å—Ç–∞—Ç–∏–∫–∞
- `src/routes/*` ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–æ—É—Ç—ã: —Å–æ–±—ã—Ç–∏—è, –∞–∫–∫–∞—É–Ω—Ç, –æ—Ä–≥–ø–∞–Ω–µ–ª—å, —á–µ–∫–∏–Ω, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã, Telegram
- `src/lib/*` ‚Äî —É—Ç–∏–ª–∏—Ç—ã: Telegram, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è, CSRF, rate‚Äëlimit, —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä
- `src/sql/ddl.sql` ‚Äî —Å—Ö–µ–º–∞ –ë–î; `src/sql/queries.ts` ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- `src/views/*.eta` ‚Äî HTML‚Äë—à–∞–±–ª–æ–Ω—ã Eta (—Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –¥–ª—è htmx)
- `styles/tailwind.css` ‚Üí `public/style.css` ‚Äî —Å—Ç–∏–ª–∏
- `scripts/seed.ts` ‚Äî —Å–∏–¥–∏–Ω–≥ –¥–µ–º–æ‚Äë–¥–∞–Ω–Ω—ã—Ö
- `docs/deck.md` ‚Äî –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è (Marp)

## üöÄ –°–∫—Ä–∏–ø—Ç—ã

- `bun run dev` ‚Äî –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- `bun run seed` ‚Äî —Å–∏–¥–∏–Ω–≥ –ë–î (—Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã –∏ –¥–µ–º–æ-–¥–∞–Ω–Ω—ã—Ö)
- `bun run build:css` ‚Äî —Å–±–æ—Ä–∫–∞ Tailwind CSS
- `bun run dev:css` ‚Äî watch –¥–ª—è CSS (–∞–≤—Ç–æ–ø–µ—Ä–µ–∑–±–æ—Ä–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö)
- `bun run dev:server` ‚Äî —Å–µ—Ä–≤–µ—Ä —Å –ø–æ—Ä—Ç–æ–º –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `PORT`
- `bun run dev:all` ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ CSS watch + —Å–µ—Ä–≤–µ—Ä (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- `bun run lint` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ —á–µ—Ä–µ–∑ Biome

## üß™ –¢–µ—Å—Ç—ã

–ï—Å—Ç—å –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤, Telegram‚Äë—É—Ç–∏–ª–∏—Ç –∏ –ø–µ—Ä—Ñ–æ–º–∞–Ω—Å–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏.

```bash
bun test
```

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üôã‚Äç‚ôÄÔ∏è –î–ª—è –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–≤

- –ü–æ–∏—Å–∫ –ø–æ —Å–æ–±—ã—Ç–∏—è–º: –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–º–µ–Ω—ã, —Ä–∞–¥–∏—É—Å –æ—Ç –≥–æ—Ä–æ–¥–∞, —Ñ–æ—Ä–º–∞—Ç (–æ–Ω–ª–∞–π–Ω/–æ—Ñ–ª–∞–π–Ω), –≤–æ–∑—Ä–∞—Å—Ç, –Ω–∞–≤—ã–∫–∏, –∏–Ω—Ç–µ—Ä–µ—Å—ã; —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ/–Ω–æ–≤–∏–∑–Ω–µ/–ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏
- –ö–∞—Ç–∞–ª–æ–≥ –∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ (`/events`, `/favorites`), —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ–±—ã—Ç–∏—è —Å —Ä–æ–ª—è–º–∏ –∏ —Å–º–µ–Ω–∞–º–∏, —Å—á—ë—Ç—á–∏–∫–∏ –º–µ—Å—Ç –∏ –ª–∏—Å—Ç –æ–∂–∏–¥–∞–Ω–∏—è
- –ü–æ–¥–∞—á–∞ –∑–∞—è–≤–∫–∏ —Å CSRF –∏ –±–∞–∑–æ–≤–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π; —Å—Ç–∞—Ç—É—Å—ã: pending/approved/waitlisted/declined
- –ß–µ–∫–∏–Ω —á–µ—Ä–µ–∑ QR/Telegram: –ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ QR (`/my-qr`), –∫–∏–æ—Å–∫ (`/events/:id/kiosk`), –ø–∞–Ω–µ–ª—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞ (`/events/:id/live`)
- –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç (`/account`): –∑–∞—è–≤–∫–∏, –±–ª–∏–∂–∞–π—à–∏–µ —Å–º–µ–Ω—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á–∞—Å–æ–≤, –±–µ–π–¥–∂–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (`/account/notifications`)
- –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏ –æ—Ç–∫—Ä—ã—Ç—ã–µ –±–µ–π–¥–∂–∏ (`/certificates`, `/badges/:id`)

### üë®‚Äçüíº –î–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–æ–≤

- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å (`/org/:orgId`): —Å–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π, —Ñ–∏–ª—å—Ç—Ä—ã –∏ –º–∞—Å—Å–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–ø—É–±–ª–∏–∫–∞—Ü–∏—è/–∑–∞–∫—Ä—ã—Ç–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ)
- –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π, —Ä–æ–ª–µ–π, —Å–º–µ–Ω; –≥–µ–Ω–µ—Ä–∞—Ü–∏—è deep‚Äëlinks –¥–ª—è Telegram, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≥–µ–æ–∑–æ–Ω—ã —á–µ–∫–∏–Ω–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏ (`/org/:orgId/applications`): approve/decline, –º–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Å–æ–±—ã—Ç–∏—é –∏ —Å—Ç–∞—Ç—É—Å—É
- –ß–µ–∫–∏–Ω/—á–µ–∫–∞—É—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤: –∫–∏–æ—Å–∫, –ø–∞–Ω–µ–ª—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞, —Ç–æ–∫–µ–Ω—ã, —É—á—ë—Ç —á–∞—Å–æ–≤ –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- –û—Ç—á—ë—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (`/org/:orgId/reports`, —ç–∫—Å–ø–æ—Ä—Ç CSV), –∂—É—Ä–Ω–∞–ª –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ (`/api/incidents`)

## üõ£Ô∏è –ú–∞—Ä—à—Ä—É—Ç—ã (—Å—Ä–µ–∑)

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ: `/`, `/events`, `/events/:id`, `/favorites`, `/organizations`, `/account`, `/history`, `/my-qr`, `/login`, `/register`
- –ß–µ–∫–∏–Ω: `/events/:id/live`, `/events/:id/kiosk`, `/checkin/process`, `/checkin/token/:token`, `/checkin/qr/:applicationId/:shiftId`
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è: `/org/:orgId`, `/org/:orgId/events`, `/org/:orgId/applications`, `/org/:orgId/reports`
- Telegram: `/webhook/telegram`, `/tg/start/:payload`

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- CSRF: cookie `csrf_token` + –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ POST‚Äë–º–∞—Ä—à—Ä—É—Ç–∞—Ö
- Rate‚Äëlimit –ø–æ IP –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –ü–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ QR‚Äë–∫–æ–¥—ã (`QR_SECRET`) –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ ¬´—Å—Ä–æ–∫–∞ –∂–∏–∑–Ω–∏¬ª
- –°–µ—Ä–≤–µ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π JS (htmx) –∏ Tailwind –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

## üóÑÔ∏è –î–∞–Ω–Ω—ã–µ –∏ —Å–∏–¥–∏–Ω–≥

`scripts/seed.ts` —Å–æ–∑–¥–∞—ë—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–ø—Å–∏—Ö–∏–∞—Ç—Ä–∏—á–µ—Å–∫–∞—è –ø–æ–º–æ—â—å, –ø–æ–º–æ—â—å –∑–∞–≤–∏—Å–∏–º—ã–º, –¥–µ—Ç—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä), –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –Ω–∞–±–æ—Ä —Å–æ–±—ã—Ç–∏–π –≤ –°–∞–Ω–∫—Ç‚Äë–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ, –ü–µ—Ä–º–∏ –∏ –ü–æ–∫–∞—á–∞—Ö. –¢–∞–∫–∂–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Ä–æ–ª–∏, —Å–º–µ–Ω—ã, —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞—è–≤–∫–∏, –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤. –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–∞–±–ª–∏—Ü.

## üìä –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è

### –û–Ω–ª–∞–π–Ω-–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è
üåê **[–°–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é –æ–Ω–ª–∞–π–Ω](https://kvadricepshub--ydo6xlb.gamma.site/)**

### PDF-—Ñ–∞–π–ª
üìÑ **[–°–∫–∞—á–∞—Ç—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é (PDF)](./pres.pdf)**

### –ò—Å—Ö–æ–¥–Ω–∏–∫–∏
–°–ª–∞–π–¥—ã –≤ `docs/deck.md` (—Ñ–æ—Ä–º–∞—Ç Marp).

```bash
# –ø—Ä–∏–º–µ—Ä —Å–±–æ—Ä–∫–∏ (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω marp-cli)
bunx marp docs/deck.md -o deck.html
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
